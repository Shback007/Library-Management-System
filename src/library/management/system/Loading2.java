/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package library.management.system;

/**
 *
 * @author SAGNI
 */
public class Loading2 extends javax.swing.JFrame {
    
    private final Loading1 loading1Ref;
    /**
     * Creates new form Loading2
     * @param loading1Ref
     */
   public Loading2(Loading1 loading1Ref) {
    this.loading1Ref = loading1Ref;
    initComponents();

    Thread t = new Thread(new Runnable(){
        @Override
        public void run() {
            for (int i = 1; i <= 100; i++) {
                try {
                    progBar.setValue(i);
                    Thread.sleep(50);

                    if (i == 100) {
                        new login().setVisible(true);
                        dispose(); // close Loading2
                        loading1Ref.dispose(); // close Loading1
                    }

                    String progressText = progBar.getString();
                    if ("25%".equals(progressText)) {
                        lblloading2txt.setText("Connecting Database....");
                    } else if ("50%".equals(progressText)) {
                        lblloading2txt.setText("Loading Modules.....");
                    } else if ("95%".equals(progressText)) {
                        lblloading2txt.setText("Launching Application....");
                    }

                } catch (InterruptedException ex) {
                    System.getLogger(Loading2.class.getName()).log(System.Logger.Level.ERROR, (String) null, ex);
                }
            }
        }
    });
    t.start();
}

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        progBar = new javax.swing.JProgressBar();
        pnlLoading2 = new javax.swing.JPanel();
        lblloading2txt = new javax.swing.JLabel();
        lblLoading2img = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setUndecorated(true);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());
        getContentPane().add(progBar, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 432, 649, 17));

        pnlLoading2.setBackground(new java.awt.Color(0, 167, 0));
        pnlLoading2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lblloading2txt.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblloading2txt.setToolTipText("");
        pnlLoading2.add(lblloading2txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 400, 170, 30));

        lblLoading2img.setIcon(new javax.swing.ImageIcon(getClass().getResource("/img/Picsart_23-10-30_17-47-04-022.jpg"))); // NOI18N
        pnlLoading2.add(lblLoading2img, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 10, 610, 390));

        getContentPane().add(pnlLoading2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, -4, 650, 430));

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    /**
     * @param args the command line arguments
     */
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel lblLoading2img;
    private javax.swing.JLabel lblloading2txt;
    private javax.swing.JPanel pnlLoading2;
    private javax.swing.JProgressBar progBar;
    // End of variables declaration//GEN-END:variables
}
